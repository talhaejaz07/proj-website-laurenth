---
import Layout from "../layouts/Layout.astro";

import MainHeading from "../components/MainHeading.astro";
import Button from "../components/Button.astro";

import VideoImage from "../assets/images/videoImages/test-image.webp";
import VideoPlaceholder from "../components/VideoPlaceholder.astro";
import TestVideo from "../assets/videos/test-video.mp4";
import { Icon } from "astro-icon";

import Image from "astro/components/Image.astro";
import Beratung from "../assets/images/icons/beratung.png";
import Coaching from "../assets/images/icons/coaching.png";
import Umsetzung from "../assets/images/icons/umsetzung.png";

import Quote from "../components/Quote.astro";

import BookQuote from "../components/BookQuote.astro";

import PreFooter from "../components/PreFooter.astro";
---

<Layout title="Startseite">
  <MainHeading
    heading="Gute Ziele inspirieren - Individuelle Lösungen für erfolgreiche Unternehmenskultur"
    subHeading="Unternehmensberatung & Coaching"
    buttonVisibility="true"
    buttonLink="/uber-uns"
  />

  <section id="videoOne" class="video-one" data-open="false">
    <VideoPlaceholder bgImage={VideoImage} ID="one" />
    <div class="video-one-popup">
      <Icon name="ph:x-bold" id="crossOne" class="video-one-close" />
      <video controls>
        <source src={TestVideo} type="video/mp4" />
      </video>
    </div>
  </section>

  <section class="icons-with-button">
    <div class="icon-list">
      <div class="icon-wrapper">
        <Image src={Beratung} alt="beratung" class="icon" />
        <h3>Beratung</h3>
      </div>
      <div class="icon-wrapper">
        <Image src={Coaching} alt="beratung" class="icon" />
        <h3>Coaching</h3>
      </div>
      <div class="icon-wrapper">
        <Image src={Umsetzung} alt="beratung" class="icon" />
        <h3>Umsetzung</h3>
      </div>
    </div>
    <div class="icons-button">
      <Button href="/leistungen" text="Leistungen ansehen" />
    </div>
  </section>

  <Quote
    bgColor="#B55C78"
    text="„Innovation besteht darin, zu sehen, was alle sehen und dabei zu denken, was niemand denkt.“"
  />

  <section class="second-heading">
    <h2>
      Veränderungsprozesse erfolgreich gestalten – durch eine Verbindung von
      persönlicher Interaktion und digitalen Möglichkeiten
    </h2>
    <h3>Unser Konzept: die Siegertreppe</h3>
  </section>

  <section id="videoTwo" class="video-two" data-open="false">
    <VideoPlaceholder bgImage={VideoImage} ID="two" />
    <div class="video-two-popup">
      <Icon name="ph:x-bold" id="crossTwo" class="video-two-close" />
      <video controls>
        <source src={TestVideo} type="video/mp4" />
      </video>
    </div>
    <div class="video-two-button">
      <Button href="/siegertreppe" text="Die Siegertreppe" />
    </div>
  </section>

  <section class="sponsors">
    <h2>Erfolgreiche Zusammenarbeit mit:</h2>

    <div class="sponsors-logos-list-wrapper">
      <div class="sponsors-logos-list">
        <Icon name="logos:atom" class="sponsor-logo" />
        <Icon name="logos:auth0" class="sponsor-logo" />
        <Icon name="logos:500px" class="sponsor-logo" />
        <Icon name="logos:apple-pay" class="sponsor-logo" />
        <Icon name="logos:android" class="sponsor-logo" />
        <Icon name="logos:adyen" class="sponsor-logo" />
      </div>
    </div>
  </section>

  <BookQuote
    heading="Inspiration und Motivation mit Praxisbeispielen"
    text="Entdecken Sie auch die inspirierenden Bücher von Jörg Lauenroth – Führung, Teamentwicklung und mehr."
    buttonText="Bücher entdecken"
    buttonLink="/uber-uns"
  />

  <PreFooter
    heading="Möchten Sie uns kennenlernen?"
    subHeading="Nehmen Sie gerne Kontakt mit uns auf. Wir freuen uns von Ihnen zu hören!"
  />
</Layout>

<script>
  // Video One
  let videoOnePlayButton: any = document.getElementById("one");
  let videoOneCrossButton: any = document.getElementById("crossOne");
  let videoOneSection: any = document.getElementById("videoOne");

  let videoOneClick = false;
  let videoOneEvent = () => {
    videoOneClick = !videoOneClick;

    if (videoOneClick) {
      videoOneSection.setAttribute("data-open", "true");
    } else {
      videoOneSection.setAttribute("data-open", "false");
    }
  };

  videoOnePlayButton.addEventListener("click", videoOneEvent);
  videoOneCrossButton.addEventListener("click", videoOneEvent);

  // Video Two
  let videoTwoPlayButton: any = document.getElementById("two");
  let videoTwoCrossButton: any = document.getElementById("crossTwo");
  let videoTwoSection: any = document.getElementById("videoTwo");

  let videoTwoClick = false;
  let videoTwoEvent = () => {
    videoTwoClick = !videoTwoClick;

    if (videoTwoClick) {
      videoTwoSection.setAttribute("data-open", "true");
    } else {
      videoTwoSection.setAttribute("data-open", "false");
    }
  };

  videoTwoPlayButton.addEventListener("click", videoTwoEvent);
  videoTwoCrossButton.addEventListener("click", videoTwoEvent);
</script>

<style lang="scss">
  @use "../abstractStyles/" as *;

  .video-one {
    @include container();
  }

  .video-one-popup {
    position: fixed;
    z-index: 1000;
    inset: 0;
    background-color: rgba($black-900, 0.5);

    display: grid;
    place-items: center;

    .video-one-close {
      color: $light-000;
      position: absolute;
      z-index: 2000;
      width: 75px;
      top: 5%;
      right: 5%;
      cursor: pointer;
    }

    video {
      @include container(0);
      aspect-ratio: 16/9;
    }
  }

  .video-one[data-open="true"] .video-one-popup {
    transform: translateY(0%);
    transition-property: transform;
    transition-duration: 250ms;
  }

  .video-one[data-open="false"] .video-one-popup {
    transform: translateY(-100%);
    transition-property: transform;
    transition-duration: 250ms;
  }

  .icons-with-button {
    @include container();
  }
  .icon-list {
    padding: 0 $space-60;

    display: flex;
    gap: 11%;

    .icon-wrapper {
      width: 26%;
      display: flex;
      flex-direction: column;
      gap: $space-medium;
      align-items: center;
    }
    .icon {
      height: auto;
      width: 100%;
      max-width: 200px;
    }
    h3 {
      @include H3();
      text-align: center;
    }
  }

  .icons-button {
    text-align: center;
    margin-top: $space-40;
  }

  .second-heading {
    @include container();

    h2 {
      @include H2();
      text-align: center;
    }

    h3 {
      @include H3();
      text-align: center;
    }
  }

  .video-two {
    @include container();
  }

  .video-two-popup {
    position: fixed;
    z-index: 1000;
    inset: 0;
    background-color: rgba($black-900, 0.5);

    display: grid;
    place-items: center;

    .video-two-close {
      color: $light-000;
      position: absolute;
      z-index: 2000;
      width: 75px;
      top: 5%;
      right: 5%;
      cursor: pointer;
    }

    video {
      @include container(0);
      aspect-ratio: 16/9;
    }
  }

  .video-two[data-open="true"] .video-two-popup {
    transform: translateY(0%);
    transition-property: transform;
    transition-duration: 250ms;
  }

  .video-two[data-open="false"] .video-two-popup {
    transform: translateY(-100%);
    transition-property: transform;
    transition-duration: 250ms;
  }

  .video-two-button {
    margin-top: $space-100;
    text-align: center;
  }

  .sponsors {
    padding: $space-60 0;
    h2 {
      @include container(0);
      @include H2();
      margin-bottom: $space-40;
    }

    .sponsors-logos-list-wrapper {
      background-color: $black-200;
    }

    .sponsors-logos-list {
      @include container();

      display: flex;
      gap: $space-40;
      flex-wrap: wrap;
      justify-content: space-evenly;
    }

    .sponsor-logo {
      min-width: 100px;
      max-width: 200px;
    }
  }
</style>
